<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PlatformSoftKeyboardControl: &lt;img src=&quot;\mainpage&quot; alt=&quot;&quot;/&gt; PlatformSoftKeyboardControl</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">PlatformSoftKeyboardControl<span id="projectnumber">&#160;2.0.0</span>
   </div>
   <div id="projectbrief">Control a 2 DOF platform using a piezoresistive sensing sheet</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md_README.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title"><img src="\mainpage" alt="" class="inline"/> PlatformSoftKeyboardControl </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md16"></a></p>
<p>Control a 2 Degree of Freedom Platform using a soft sensing sheet.</p>
<p>This README is also used as the main page for the Doxygen-generated documentation. The remainder of this file contains project details, diagrams, and usage information. </p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md17"></a>
PlatformSoftKeyboardControl</h1>
<p>Project Goal:</p>
<p>Control a 2 Degree of Freedom Platform using a custom piezoresistive sensing sheet. </p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md18"></a>
Mechanical Considerations</h2>
<p>The balancing table is controlled by two motors connected to the table's surface via a strut with two ball joints that control rotation about perpendicular axes.</p>
<p><img src="https://github.com/user-attachments/assets/a2d62a46-fd9c-42a5-a989-7851e44c7777" alt="Lever Arm Powered By Motor" width="663" height="512" class="inline"/></p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md19"></a>
Software Design</h2>
<h3 class="doxsection"><a class="anchor" id="autotoc_md20"></a>
Task Diagram</h3>
<p><img src="https://github.com/user-attachments/assets/38f003e1-e04e-4a36-8adb-b4d4d479dcad" alt="ESP32 Code Task Diagram" width="781" height="659" class="inline"/></p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md21"></a>
Webserver Task</h3>
<p>The ESP32 hosts its own wifi on which it hosts a webpage on 192.168.5.1 that communicates the recorded data in csv forma to either the user or an external program that interprets it. The functionality of this task is based on an example by <img src="https://github.com/hippyaki/WebServers-on-ESP32-Codes" alt="A. Sinha" class="inline"/>.</p>
<p><img src="https://github.com/user-attachments/assets/f6c1ada7-053a-4696-8f9d-5a1bf2a299a8" alt="Webserver Task State Diagram" width="458" height="314" class="inline"/></p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md22"></a>
Motor Control Task</h3>
<p>The motor control task awaits confirmation that the IMU has initialized and then begins operating the motor PIDs according to the setpoint stored in the xBar and yBar shares.</p>
<p><img src="https://github.com/user-attachments/assets/63f04a26-7069-487f-a202-9b285c1271b7" alt="Motor Control State Diagram" width="1010" height="451" class="inline"/></p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md23"></a>
Material Reading Task</h3>
<p>In order to perform EIT analysis, a series of voltage differences needs to be measured. For one complete measurement, one electrode is grounded while its neighboring electrode is supplied with a current while the remaining electrodes are used to measure the voltage differences. This is then repeated for each electrode. This task is responsible for taking those individual datapoints and reporting the resulting 208 values to the webpage task to be published in csv format.</p>
<p><img src="https://github.com/user-attachments/assets/ca44845a-5584-47f4-b5b2-e5d67d461c8b" alt="Material Reading State Diagram" width="840" height="629" class="inline"/></p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md24"></a>
PyEIT interpretation</h3>
<p>A python script using the <img src="https://github.com/eitcom/pyEIT" alt="pyEIT module" class="inline"/> is able to read the data hosted by the webpage and analyze any changes in resistivity of the material. The resulting centroid is then passed back to the webpage using url arguments.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md25"></a>
Other Code Used</h2>
<ul>
<li>Liu, et al:</li>
<li>- <a href="https://github.com/eitcom/pyEIT">https://github.com/eitcom/pyEIT</a></li>
<li>bryanduxbury:</li>
<li>- <a href="https://github.com/bryanduxbury/adc128d818_driver">https://github.com/bryanduxbury/adc128d818_driver</a></li>
<li>yuskegoto:</li>
<li>- <a href="https://github.com/yuskegoto/PCA9956">https://github.com/yuskegoto/PCA9956</a></li>
<li>spluttflob:</li>
<li>- PrintStream Library <a href="https://github.com/spluttflob/Arduino-PrintStream.git">https://github.com/spluttflob/Arduino-PrintStream.git</a></li>
<li>- ME507 Support Library <a href="https://github.com/spluttflob/ME507-Support.git">https://github.com/spluttflob/ME507-Support.git</a></li>
<li>madhephaestus:</li>
<li>- <a href="https://github.com/madhephaestus/ESP32Encoder">https://github.com/madhephaestus/ESP32Encoder</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
