<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PlatformSoftKeyboardControl: src/MOTOR.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">PlatformSoftKeyboardControl<span id="projectnumber">&#160;2.0.0</span>
   </div>
   <div id="projectbrief">Control a 2 DOF platform using a piezoresistive sensing sheet</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('MOTOR_8cpp.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">MOTOR.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Initialize motor control pins and PWM channels.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;MOTOR.h&quot;</code><br />
<code>#include &lt;Arduino.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8ae2aef48b10327526bd7c6eec34756b" id="r_a8ae2aef48b10327526bd7c6eec34756b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8ae2aef48b10327526bd7c6eec34756b">MOTOR_init</a> (uint8_t pin1, uint8_t pin2, uint8_t channel1, uint8_t channel2)</td></tr>
<tr class="memitem:a08307efa3b153177c2fec00689934bc3" id="r_a08307efa3b153177c2fec00689934bc3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a08307efa3b153177c2fec00689934bc3">MOTOR_forward</a> (uint8_t pin1, uint8_t pin2, uint8_t channel1, uint8_t channel2, uint8_t speed)</td></tr>
<tr class="memdesc:a08307efa3b153177c2fec00689934bc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drive the motor forward at a specified speed.  <br /></td></tr>
<tr class="memitem:acac747bb40bee85476036577b97a7712" id="r_acac747bb40bee85476036577b97a7712"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acac747bb40bee85476036577b97a7712">MOTOR_reverse</a> (uint8_t pin1, uint8_t pin2, uint8_t channel1, uint8_t channel2, uint8_t speed)</td></tr>
<tr class="memdesc:acac747bb40bee85476036577b97a7712"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drive the motor in reverse at a specified speed.  <br /></td></tr>
<tr class="memitem:a95041c1f21a28dc853b0711b6e3be5ae" id="r_a95041c1f21a28dc853b0711b6e3be5ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a95041c1f21a28dc853b0711b6e3be5ae">MOTOR_brake</a> (uint8_t pin1, uint8_t pin2, uint8_t channel1, uint8_t channel2)</td></tr>
<tr class="memdesc:a95041c1f21a28dc853b0711b6e3be5ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply electrical braking to stop the motor quickly.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Initialize motor control pins and PWM channels. </p>
<p>Implementation of motor commands</p>
<p>Configures the specified GPIO pins for motor output and sets up two independent PWM channels at 25 kHz with 8-bit resolution.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin1</td><td>GPIO pin for motor direction 1 </td></tr>
    <tr><td class="paramname">pin2</td><td>GPIO pin for motor direction 2 </td></tr>
    <tr><td class="paramname">channel1</td><td>PWM channel number for first direction (0-15) </td></tr>
    <tr><td class="paramname">channel2</td><td>PWM channel number for second direction (0-15)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>Both PWM channels are configured with:</p><ul>
<li>Frequency: 25 kHz</li>
<li>Resolution: 8-bit (0-255)</li>
<li>Duty cycle controlled via ledcWrite() </li>
</ul>
</div><a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="a95041c1f21a28dc853b0711b6e3be5ae" name="a95041c1f21a28dc853b0711b6e3be5ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95041c1f21a28dc853b0711b6e3be5ae">&#9670;&#160;</a></span>MOTOR_brake()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MOTOR_brake </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>pin1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>pin2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>channel1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>channel2</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply electrical braking to stop the motor quickly. </p>
<p>Applies maximum PWM signal to both motor channels simultaneously, causing them to work against each other and bring the motor to a rapid stop through electrical braking. This is more effective than coasting to a stop.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin1</td><td>GPIO pin for motor direction 1 (unused in this implementation) </td></tr>
    <tr><td class="paramname">pin2</td><td>GPIO pin for motor direction 2 (unused in this implementation) </td></tr>
    <tr><td class="paramname">channel1</td><td>PWM channel for forward motion </td></tr>
    <tr><td class="paramname">channel2</td><td>PWM channel for reverse motion</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>Both channels are set to 255 (maximum duty cycle), creating opposing forces that provide rapid deceleration.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a08307efa3b153177c2fec00689934bc3" title="Drive the motor forward at a specified speed.">MOTOR_forward()</a>, <a class="el" href="#acac747bb40bee85476036577b97a7712" title="Drive the motor in reverse at a specified speed.">MOTOR_reverse()</a> </dd></dl>

</div>
</div>
<a id="a08307efa3b153177c2fec00689934bc3" name="a08307efa3b153177c2fec00689934bc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08307efa3b153177c2fec00689934bc3">&#9670;&#160;</a></span>MOTOR_forward()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MOTOR_forward </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>pin1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>pin2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>channel1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>channel2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>speed</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Drive the motor forward at a specified speed. </p>
<p>Applies forward motion by writing the speed value to the forward channel and setting the reverse channel to 0. The motor will move in the forward direction proportional to the speed parameter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin1</td><td>GPIO pin for motor direction 1 (unused in this implementation) </td></tr>
    <tr><td class="paramname">pin2</td><td>GPIO pin for motor direction 2 (unused in this implementation) </td></tr>
    <tr><td class="paramname">channel1</td><td>PWM channel for forward motion </td></tr>
    <tr><td class="paramname">channel2</td><td>PWM channel for reverse motion </td></tr>
    <tr><td class="paramname">speed</td><td>PWM duty cycle (0-255, where 255 is maximum speed)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="section note"><dt>Note</dt><dd>To change direction, call <a class="el" href="#acac747bb40bee85476036577b97a7712" title="Drive the motor in reverse at a specified speed.">MOTOR_reverse()</a> or <a class="el" href="#a95041c1f21a28dc853b0711b6e3be5ae" title="Apply electrical braking to stop the motor quickly.">MOTOR_brake()</a></dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#acac747bb40bee85476036577b97a7712" title="Drive the motor in reverse at a specified speed.">MOTOR_reverse()</a>, <a class="el" href="#a95041c1f21a28dc853b0711b6e3be5ae" title="Apply electrical braking to stop the motor quickly.">MOTOR_brake()</a> </dd></dl>

</div>
</div>
<a id="a8ae2aef48b10327526bd7c6eec34756b" name="a8ae2aef48b10327526bd7c6eec34756b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ae2aef48b10327526bd7c6eec34756b">&#9670;&#160;</a></span>MOTOR_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MOTOR_init </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>pin1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>pin2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>channel1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>channel2</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Header file for motor commands </p>

</div>
</div>
<a id="acac747bb40bee85476036577b97a7712" name="acac747bb40bee85476036577b97a7712"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acac747bb40bee85476036577b97a7712">&#9670;&#160;</a></span>MOTOR_reverse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MOTOR_reverse </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>pin1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>pin2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>channel1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>channel2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>speed</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Drive the motor in reverse at a specified speed. </p>
<p>Applies reverse motion by writing the speed value to the reverse channel and setting the forward channel to 0. The motor will move in the reverse direction proportional to the speed parameter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin1</td><td>GPIO pin for motor direction 1 (unused in this implementation) </td></tr>
    <tr><td class="paramname">pin2</td><td>GPIO pin for motor direction 2 (unused in this implementation) </td></tr>
    <tr><td class="paramname">channel1</td><td>PWM channel for forward motion </td></tr>
    <tr><td class="paramname">channel2</td><td>PWM channel for reverse motion </td></tr>
    <tr><td class="paramname">speed</td><td>PWM duty cycle (0-255, where 255 is maximum speed)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="section note"><dt>Note</dt><dd>To change direction, call <a class="el" href="#a08307efa3b153177c2fec00689934bc3" title="Drive the motor forward at a specified speed.">MOTOR_forward()</a> or <a class="el" href="#a95041c1f21a28dc853b0711b6e3be5ae" title="Apply electrical braking to stop the motor quickly.">MOTOR_brake()</a></dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a08307efa3b153177c2fec00689934bc3" title="Drive the motor forward at a specified speed.">MOTOR_forward()</a>, <a class="el" href="#a95041c1f21a28dc853b0711b6e3be5ae" title="Apply electrical braking to stop the motor quickly.">MOTOR_brake()</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>src</b></li><li class="navelem"><a href="MOTOR_8cpp.html">MOTOR.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
